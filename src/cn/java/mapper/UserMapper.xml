<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.java.mapper.UserMapper">

	<resultMap type="cn.java.entity.Producttype" id="producttype">
		<result property="id" javaType="java.lang.Integer" column="id"/>
		<result property="typename" javaType="java.lang.String" column="typename"/>
		<collection property="list" ofType="cn.java.entity.Producttype">
			<result property="id" javaType="java.lang.Integer" column="xid"/>
			<result property="typename" javaType="java.lang.String" column="typenamex"/>
		</collection>
	</resultMap>
	
	<select id="getUserByUser" resultType="cn.java.entity.User">
		select * from User where (phonenumber=#{username} or username=#{username}  ) and password= #{password} 
	</select>
	
	<insert id="registerMapper" parameterType="cn.java.entity.User">
		insert into User(username,phonenumber,password) values (#{username},#{phonenumber},#{password})
	</insert>
	
	<select id="getUserByUsername" resultType="cn.java.entity.User">
		select * from User where username=#{username}
	</select>
	
	<select id="getUserByUserphone" resultType="cn.java.entity.User">
		select * from User where phonenumber=#{phonenumber}
	</select>
	
	<select id="getProducttypeList" resultMap="producttype">
		SELECT * FROM producttype p,producttypespe s where s.id = p.id
	</select>
</mapper>